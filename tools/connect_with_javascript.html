
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <link rel="icon" type="image/png" href="../web/images/db32x32.png" />
    <title>REST API | MentDB</title>
</head>
<body id='top' style="font-size:13px;margin:0px;font-family: 'Helvetica Neue', Roboto, Arial, 'Droid Sans', sans-serif;margin:0px;">

Hello!

</body>
</html>


<script>
    
String.prototype.replaceAll = function(search, replacement) {
    var target = this;
    return target.replace(new RegExp(search, 'g'), replacement);
};
    
function callApi(https, url, method, variables, user, password) {

  var strVars = "";
  var jsonVars = JSON.parse(variables);
  for (var key in jsonVars) {
    strVars += "&"+key+"="+encodeURIComponent(jsonVars[key]);
  }
  if (strVars.length>0) strVars = strVars.substring(1);
  
    var xhttp = new XMLHttpRequest();
    if ((method==='GET' || method==='DELETE') && strVars.length>0) xhttp.open(method, https+"/api/"+url+"?"+strVars, true);
    else xhttp.open(method, https+"/api/"+url, true);
    xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    xhttp.setRequestHeader("x-user", user);
    xhttp.setRequestHeader("Access-Control-Allow-Origin", "*");
    xhttp.setRequestHeader("x-password", password);
    xhttp.onreadystatechange = function (oEvent) {  
    if (xhttp.readyState === 4) {  
      if (xhttp.status === 200) {  
          
          var obj = JSON.parse(xhttp.responseText);
          
          alert(obj.result);
          
      } else {  
          
          alert(xhttp.status);
          alert("error: "+xhttp.statusText.replaceAll("<br>", " "));
          
      }  
    }  
  }; 
  if ((method==='GET' || method==='DELETE') && strVars.length>0) xhttp.send(null);
  else xhttp.send(strVars);
    
  return false;
};
     
callApi("https://localhost:9999", "addition", "POST", "{\"v1\":\"23\",\"v2\":\"34\"}", "admin", "pwd");
    
    
    
</script>



